<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Подбор жидкости - DETALINK</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;600;700;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Archivo', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --bg: #fafafa;
            --text: #0a0a0a;
            --accent: #ff4d00;
            --secondary: #0066ff;
            --border: #e0e0e0;
        }

        body {
            background: var(--bg);
            color: var(--text);
        }

        .logo {
            font-size: 1.25rem;
            font-weight: 900;
            letter-spacing: -0.05em;
            text-decoration: none;
        }

        @media (min-width: 640px) {
            .logo {
                font-size: 1.5rem;
            }
        }

        .logo-accent {
            color: var(--accent);
        }

        .logo-secondary {
            color: var(--secondary);
        }

        /* Форма выбора */
        .selection-form {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border: 1px solid var(--border);
            padding: 3rem;
        }

        @media (max-width: 640px) {
            .selection-form {
                padding: 2rem;
            }
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-label {
            display: block;
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
        }

        .option-grid.large {
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        }

        .option-grid.brands {
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        }

        .option-btn {
            padding: 1.25rem;
            background: white;
            border: 2px solid var(--border);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .option-btn:hover {
            border-color: var(--text);
        }

        .option-btn.selected {
            background: var(--text);
            color: white;
            border-color: var(--text);
        }

        .brand-btn {
            padding: 1.5rem 1.25rem;
            background: white;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .brand-btn:hover {
            border-color: var(--text);
        }

        .brand-btn.selected {
            background: var(--text);
            border-color: var(--text);
        }

        .brand-btn.selected .brand-btn-name {
            color: white;
        }

        .brand-btn.selected .brand-btn-desc {
            color: rgba(255,255,255,0.7);
        }

        .brand-btn-name {
            font-size: 1.125rem;
            font-weight: 900;
            letter-spacing: -0.02em;
            margin-bottom: 0.25rem;
            transition: color 0.3s;
        }

        .brand-btn-desc {
            font-size: 0.75rem;
            color: #999;
            transition: color 0.3s;
        }

        .submit-btn {
            width: 100%;
            padding: 1.5rem;
            background: var(--text);
            color: white;
            border: none;
            font-weight: 700;
            font-size: 1rem;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .submit-btn:hover:not(:disabled) {
            background: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 77, 0, 0.3);
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .type-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid var(--border);
        }

        .type-name {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        @media (max-width: 640px) {
            .type-name {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Хедер -->
    <header class="border-b border-gray-200 bg-white sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-8 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html" class="logo">
                    <span class="logo-accent">DETA</span><span class="logo-secondary">LINK</span>
                </a>
                <a href="liquids.html" class="flex items-center gap-2 text-sm text-gray-600 hover:text-black transition">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    Выбрать другую категорию
                </a>
            </div>
        </div>
    </header>

    <!-- Основной контент -->
    <main class="max-w-7xl mx-auto px-4 sm:px-8 py-8">

        <!-- Заголовок -->
        <div class="mb-8 text-center">
            <div class="font-mono text-xs sm:text-sm tracking-wider text-gray-400 mb-4">
                ПОДБОР ЖИДКОСТИ
            </div>
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-black mb-4 leading-tight">
                Выберите параметры
            </h1>
        </div>

        <!-- Форма выбора -->
        <div class="selection-form">

            <!-- Тип жидкости -->
            <div class="type-header">
                <div class="type-name" id="typeName" style="color: var(--accent);">Тормозная жидкость</div>
                <p class="text-gray-600" id="typeDescription">Автомобильная жидкость</p>
            </div>

            <!-- Бренд -->
            <div class="form-group">
                <label class="form-label">1. Выберите производителя</label>
                <div class="option-grid brands" id="brandsGrid">
                    <!-- Заполняется через JavaScript -->
                </div>
            </div>

            <!-- Спецификация -->
            <div class="form-group" id="specGroup">
                <label class="form-label">2. Выберите спецификацию</label>
                <div class="option-grid large" id="specGrid">
                    <!-- Заполняется через JavaScript -->
                </div>
            </div>

            <!-- Объем -->
            <div class="form-group">
                <label class="form-label">3. Выберите объем</label>
                <div class="option-grid" id="volumeGrid">
                    <!-- Заполняется через JavaScript -->
                </div>
            </div>

            <!-- Кнопка поиска -->
            <button class="submit-btn" id="submitBtn" disabled onclick="searchLiquid()">
                НАЙТИ ЖИДКОСТЬ
            </button>

        </div>

    </main>

    <script>
        let selectedBrand = null;
        let selectedSpec = null;
        let selectedVolume = null;
        const typeParam = new URLSearchParams(window.location.search).get('type') || 'brake';

        // Данные по типам жидкостей
        const liquidTypes = {
            'brake': {
                name: 'Тормозная жидкость',
                description: 'Тормозная жидкость',
                color: '#ff4d00',
                brands: {
                    'ate': { name: 'ATE', color: '#0057a8', desc: 'Немецкое качество' },
                    'trw': { name: 'TRW', color: '#ed1c24', desc: 'Мировой стандарт' },
                    'bosch': { name: 'BOSCH', color: '#ea0016', desc: 'Надежность' },
                    'liquimoly': { name: 'LIQUI MOLY', color: '#ed1c24', desc: 'Премиум класс' },
                    'motul': { name: 'MOTUL', color: '#e30613', desc: 'Французская формула' },
                    'febi': { name: 'FEBI', color: '#0066b3', desc: 'OEM качество' }
                },
                specs: ['DOT 3', 'DOT 4', 'DOT 4+', 'DOT 5.1'],
                volumes: ['0.25', '0.5', '1', '5']
            },
            'power-steering': {
                name: 'Жидкость ГУР',
                description: 'Гидроусилитель руля',
                color: '#0066ff',
                brands: {
                    'febi': { name: 'FEBI', color: '#0066b3', desc: 'OEM качество' },
                    'swag': { name: 'SWAG', color: '#ed1c24', desc: 'Немецкий бренд' },
                    'liquimoly': { name: 'LIQUI MOLY', color: '#ed1c24', desc: 'Премиум класс' },
                    'fuchs': { name: 'FUCHS', color: '#00a651', desc: 'Технологии смазки' },
                    'mannol': { name: 'MANNOL', color: '#0057a8', desc: 'Доступное качество' },
                    'valeo': { name: 'VALEO', color: '#00adef', desc: 'Французский бренд' }
                },
                specs: ['ATF II', 'ATF III', 'Dexron III', 'PSF', 'CHF 11S', 'Pentosin'],
                volumes: ['0.5', '1', '2', '5']
            },
            'antifreeze': {
                name: 'Антифриз',
                description: 'Охлаждающая жидкость',
                color: '#10b981',
                brands: {
                    'hepu': { name: 'HEPU', color: '#0066b3', desc: 'Немецкий стандарт' },
                    'liquimoly': { name: 'LIQUI MOLY', color: '#ed1c24', desc: 'Премиум класс' },
                    'mannol': { name: 'MANNOL', color: '#0057a8', desc: 'Доступное качество' },
                    'febi': { name: 'FEBI', color: '#0066b3', desc: 'OEM качество' },
                    'motul': { name: 'MOTUL', color: '#e30613', desc: 'Французская формула' },
                    'glysantin': { name: 'GLYSANTIN', color: '#00a651', desc: 'BASF оригинал' }
                },
                specs: ['G11 (синий)', 'G12 (красный)', 'G12+ (розовый)', 'G12++ (фиолетовый)', 'G13 (желтый)'],
                volumes: ['1', '1.5', '2', '4', '5', '10']
            },
            'washer': {
                name: 'Омыватели',
                description: 'Жидкость стеклоомывателя',
                color: '#0066ff',
                brands: {
                    'liquimoly': { name: 'LIQUI MOLY', color: '#ed1c24', desc: 'Премиум класс' },
                    'sonax': { name: 'SONAX', color: '#ffc72c', desc: 'Немецкий уход' },
                    'mannol': { name: 'MANNOL', color: '#0057a8', desc: 'Доступное качество' },
                    'hi-gear': { name: 'HI-GEAR', color: '#e30613', desc: 'Американский бренд' },
                    'kerry': { name: 'KERRY', color: '#00a651', desc: 'Эффективность' },
                    'grass': { name: 'GRASS', color: '#10b981', desc: 'Российский бренд' }
                },
                specs: ['Летняя', 'Зимняя -20°C', 'Зимняя -30°C', 'Концентрат'],
                volumes: ['1', '2', '3', '4', '5']
            },
            'transmission': {
                name: 'Трансмиссионная',
                description: 'Трансмиссионная жидкость',
                color: '#ed1c24',
                brands: {
                    'liquimoly': { name: 'LIQUI MOLY', color: '#ed1c24', desc: 'Премиум класс' },
                    'motul': { name: 'MOTUL', color: '#e30613', desc: 'Французская формула' },
                    'mannol': { name: 'MANNOL', color: '#0057a8', desc: 'Доступное качество' },
                    'febi': { name: 'FEBI', color: '#0066b3', desc: 'OEM качество' },
                    'zf': { name: 'ZF', color: '#0057a8', desc: 'Оригинал ZF' },
                    'ravenol': { name: 'RAVENOL', color: '#00adef', desc: 'Немецкое качество' }
                },
                specs: ['ATF Dexron III', 'ATF Dexron VI', 'МКПП 75W-80', 'МКПП 75W-90', 'DSG/DCT', 'CVT'],
                volumes: ['1', '4', '5', '20']
            },
            'coolant': {
                name: 'Охлаждающая',
                description: 'Охлаждающая жидкость',
                color: '#0057a8',
                brands: {
                    'hepu': { name: 'HEPU', color: '#0066b3', desc: 'Немецкий стандарт' },
                    'febi': { name: 'FEBI', color: '#0066b3', desc: 'OEM качество' },
                    'liquimoly': { name: 'LIQUI MOLY', color: '#ed1c24', desc: 'Премиум класс' },
                    'mannol': { name: 'MANNOL', color: '#0057a8', desc: 'Доступное качество' },
                    'motul': { name: 'MOTUL', color: '#e30613', desc: 'Французская формула' },
                    'zerex': { name: 'ZEREX', color: '#00a651', desc: 'Valvoline бренд' }
                },
                specs: ['Готовая -40°C', 'Готовая -30°C', 'Концентрат'],
                volumes: ['1', '2', '4', '5', '10', '20']
            }
        };

        const liquidType = liquidTypes[typeParam] || liquidTypes['brake'];

        // Инициализация страницы
        function initPage() {
            // Заголовок
            document.getElementById('typeName').textContent = liquidType.name;
            document.getElementById('typeName').style.color = liquidType.color;
            document.getElementById('typeDescription').textContent = liquidType.description;

            // Бренды
            const brandsGrid = document.getElementById('brandsGrid');
            brandsGrid.innerHTML = '';
            Object.keys(liquidType.brands).forEach(key => {
                const brand = liquidType.brands[key];
                brandsGrid.innerHTML += `
                    <button type="button" class="brand-btn" data-brand="${key}" onclick="selectBrand(this)">
                        <div class="brand-btn-name" style="color: ${brand.color};">${brand.name}</div>
                        <div class="brand-btn-desc">${brand.desc}</div>
                    </button>
                `;
            });

            // Спецификации
            const specGrid = document.getElementById('specGrid');
            specGrid.innerHTML = '';
            liquidType.specs.forEach(spec => {
                specGrid.innerHTML += `
                    <button type="button" class="option-btn" data-spec="${spec}" onclick="selectSpec(this)">
                        ${spec}
                    </button>
                `;
            });

            // Объемы
            const volumeGrid = document.getElementById('volumeGrid');
            volumeGrid.innerHTML = '';
            liquidType.volumes.forEach(vol => {
                const label = parseFloat(vol) < 1 ? (parseFloat(vol) * 1000) + ' мл' : vol + ' л';
                volumeGrid.innerHTML += `
                    <button type="button" class="option-btn" data-volume="${vol}" onclick="selectVolume(this)">
                        ${label}
                    </button>
                `;
            });
        }

        // Выбор бренда
        function selectBrand(button) {
            document.querySelectorAll('[data-brand]').forEach(btn => {
                btn.classList.remove('selected');
            });
            button.classList.add('selected');
            selectedBrand = button.dataset.brand;
            checkFormComplete();
        }

        // Выбор спецификации
        function selectSpec(button) {
            document.querySelectorAll('[data-spec]').forEach(btn => {
                btn.classList.remove('selected');
            });
            button.classList.add('selected');
            selectedSpec = button.dataset.spec;
            checkFormComplete();
        }

        // Выбор объема
        function selectVolume(button) {
            document.querySelectorAll('[data-volume]').forEach(btn => {
                btn.classList.remove('selected');
            });
            button.classList.add('selected');
            selectedVolume = button.dataset.volume;
            checkFormComplete();
        }

        // Проверка заполненности формы
        function checkFormComplete() {
            const submitBtn = document.getElementById('submitBtn');
            if (selectedBrand && selectedSpec && selectedVolume) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }

        // Поиск жидкости
        function searchLiquid() {
            if (selectedBrand && selectedSpec && selectedVolume) {
                const url = `liquid-results.html?type=${typeParam}&brand=${selectedBrand}&spec=${encodeURIComponent(selectedSpec)}&volume=${selectedVolume}`;
                window.location.href = url;
            }
        }

        // Инициализация
        initPage();
    </script>

</body>
</html>
